#! /bin/make -f

run: zfs zfb z1
	./zfs create files zdisk
	./zfb ./z1 zdisk

z0: z0.c
	cc -std=c99 -g -o z0 z0.c

z1: z0 pre.z0 std.z0 font.z0 z1.z0
	./z0 pre.z0 std.z0 font.z0 z1.z0 z1

font.z0: zttf z
	./zttf /usr/share/fonts/dejavu/DejaVuSansMono.ttf 14 mono >font.z0

zfb: zfb.c
	gcc -g -o zfb zfb.c $$(pkg-config --libs --cflags sdl2) -lrt -lX11

zttf: zttf.c
	gcc -g -o zttf zttf.c $$(freetype-config --cflags --libs)

zfs: zfs.c
	cc -std=c99 -g -o zfs zfs.c

clean:
	rm -f z0 z1 font.z0 zfb zttf
